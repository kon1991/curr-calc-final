(this["webpackJsonpcurr-calc-final"]=this["webpackJsonpcurr-calc-final"]||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(10),i=n.n(r),s=(n(16),n(8)),c=n(2),l=n(3),h=n(4),u=n(6),v=n(5),d=n(1),m=n(7);n(17);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var f=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(v.a)(t).call(this,e))).state={convertFrom:"",convertTo:"",rate:""},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(c.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onAdd(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state)),this.setState({convertFrom:"",convertTo:"",rate:""})}},{key:"render",value:function(){return o.a.createElement("div",{className:"container",onSubmit:this.handleSubmit},o.a.createElement("h2",null,"Add New Conversion"),o.a.createElement("form",null,o.a.createElement("section",{className:"options"},o.a.createElement("label",null,"From:",o.a.createElement("input",{type:"text",name:"convertFrom",value:this.state.convertFrom,onChange:this.handleChange})),o.a.createElement("label",null,"To:",o.a.createElement("input",{type:"text",name:"convertTo",value:this.state.convertTo,onChange:this.handleChange}))),o.a.createElement("label",null,"Rate:",o.a.createElement("input",{type:"text",name:"rate",value:this.state.rate,onChange:this.handleChange})),o.a.createElement("button",{type:"submit",value:"Add"},"Add")))}}]),t}(a.Component);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var O=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(v.a)(t).call(this,e))).state={id:"",convertFrom:"",convertTo:"",rate:""},n.handleConversionChange=n.handleConversionChange.bind(Object(d.a)(n)),n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handleConversionChange",value:function(e){var t=e.target.value.split(",");this.setState({id:t[0],convertFrom:t[1],convertTo:t[2],rate:t[3]})}},{key:"handleChange",value:function(e){this.setState(Object(c.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),void 0!==this.state.convertFrom&&(this.props.onEdit(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state)),this.setState({convertFrom:"",convertTo:"",rate:"",id:""}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"container",onSubmit:this.handleSubmit},o.a.createElement("h2",null,"Edit Conversion"),o.a.createElement("form",null,o.a.createElement("section",{className:"options"},o.a.createElement("label",null,"Conversion:",o.a.createElement("select",{name:"conversions",value:this.state.fromValue,onChange:this.handleConversionChange},this.props.options))),o.a.createElement("label",null,"Rate:",o.a.createElement("input",{name:"rate",type:"text",value:this.state.rate,onChange:this.handleChange})),o.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(a.Component);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var C=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(v.a)(t).call(this,e))).state={id:"",convertFrom:"",convertTo:""},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n.handleConversionChange=n.handleConversionChange.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(c.a)({},e.target.name,e.target.value))}},{key:"handleConversionChange",value:function(e){var t=e.target.value.split(",");this.setState({id:t[0],convertFrom:t[1],convertTo:t[2]})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onDelete(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state)),this.setState({id:"",convertFrom:"",convertTo:""})}},{key:"render",value:function(){return o.a.createElement("div",{className:"container",onSubmit:this.handleSubmit},o.a.createElement("h2",null,"Delete Conversion"),o.a.createElement("form",null,o.a.createElement("section",{className:"options"},o.a.createElement("label",null,"From:",o.a.createElement("select",{name:"conversions",value:this.state.fromValue,onChange:this.handleConversionChange},this.props.options))),o.a.createElement("input",{value:"Delete",type:"submit"})))}}]),t}(a.Component),j=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(v.a)(t).call(this,e))).state={fromValue:"Euro",toValue:"US Dollar",rate:"1.3764",amount:"",convertedAmount:"",showFormAdd:!1,showFormEdit:!1,showFormDelete:!1,nextConversionId:2,showHint:!1,conversions:[{id:0,name:"Euro",nextConversionToId:2,conversionTo:[{id:0,name:"US Dollar",rate:1.3764},{id:1,name:"British Pound",rate:.8731}]},{id:1,name:"US Dollar",nextConversionToid:1,conversionTo:[{id:0,name:"JPY",rate:76.72}]}]},n.handleAmountChange=n.handleAmountChange.bind(Object(d.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(d.a)(n)),n.handleConvert=n.handleConvert.bind(Object(d.a)(n)),n.handleAdd=n.handleAdd.bind(Object(d.a)(n)),n.handleEdit=n.handleEdit.bind(Object(d.a)(n)),n.handleDelete=n.handleDelete.bind(Object(d.a)(n)),n.handleClick=n.handleClick.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handleClick",value:function(e){var t=e.target.value;"Add"===t&&this.setState({showFormAdd:!0,showFormDelete:!1,showFormEdit:!1}),"Edit"===t&&this.setState({showFormAdd:!1,showFormDelete:!1,showFormEdit:!0}),"Delete"===t&&this.setState({showFormAdd:!1,showFormDelete:!0,showFormEdit:!1})}},{key:"validateInput",value:function(e){fetch("http://localhost:80/curr-calc-final/public/action.php",{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw Error("can't connect to server");return e})).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(+e)}))}},{key:"handleConvert",value:function(e){e.preventDefault();var t=this.state.amount,n=this.state.rate;this.setState({convertedAmount:t*n})}},{key:"handleAmountChange",value:function(e){this.setState(Object(c.a)({},e.target.name,e.target.value))}},{key:"handleInputChange",value:function(e){var t=e.target,n=t.name,a=t.value;if("fromValue"===n){for(var o=0;o<this.state.conversions.length;o++)if(this.state.conversions[o].name===a){var r=a,i=this.state.conversions[o].conversionTo[0].name,s=this.state.conversions[o].conversionTo[0].rate;this.setState({fromValue:r,toValue:i,rate:s});break}}else if("toValue"===n)for(var c=this.state.fromValue,l=0;l<this.state.conversions.length;l++)if(this.state.conversions[l].name===c)for(var h=0;h<this.state.conversions[l].conversionTo.length;h++)if(this.state.conversions[l].conversionTo[h].name===a){var u=a,v=this.state.conversions[l].conversionTo[h].rate;this.setState({toValue:u,rate:v});break}}},{key:"handleAdd",value:function(e){for(var t=this,n=e.convertFrom,a=e.convertTo,o=e.rate,r=!1,i=null,c=!1,l=this.state.conversions.slice(),h=0;h<l.length;h++)if(l[h].name===e.convertFrom){r=!0,i=h;for(var u=this.state.conversions[h].conversionTo,v=0;v<u.length;v++)if(u[v].name===e.convertTo){c=!0;break}}if(r&&c)console.log("This conversion already exists!");else if(r)this.setState((function(e){var r={name:a,rate:o,id:t.state.conversions[i].nextConversionToId,nextConversionToId:t.state.conversions[i].nextConversionToId+1},c=[].concat(Object(s.a)(t.state.conversions[i].conversionTo),[r]),l={name:n,conversionTo:c,id:t.state.conversions[i].id,nextConversionId:t.state.nextConversionId},h=t.state.conversions.slice();return h[i]=l,{conversions:h}}));else{var d={name:n,conversionTo:[{name:a,rate:o,id:0}],nextConversionToId:1,id:this.state.nextConversionId},m=[].concat(Object(s.a)(this.state.conversions),[d]);this.setState((function(e){return{conversions:m,nextConversionId:e.nextConversionId+1}}))}}},{key:"handleEdit",value:function(e){for(var t=e.id,n=e.convertFrom,a=e.convertTo,o=e.rate,r=this.state.conversions.slice(),i=0;i<r.length;i++)if(r[i].name===n){for(var s=this.state.conversions[i].conversionTo.slice(),c=0;c<s.length;c++)if(s[c].name===a){var l=s.slice();l[c]={id:t,name:a,rate:o};var h=r[i];h.conversionTo=l;var u=r.slice();u[i]=h,this.setState({conversions:u});break}break}}},{key:"handleDelete",value:function(e){e.id;for(var t=e.convertFrom,n=e.convertTo,a=this.state.conversions.slice(),o=0;o<a.length;o++)if(a[o].name===t){var r=this.state.conversions[o].conversionTo.slice();if(1===r.length){var i=a.slice();i.splice(o,1);for(var s=o;s<i.length;s++)i[s].id--;var c=this.state.nextConversionId-1;this.setState({conversions:i,nextConversionId:c});break}for(var l=0;l<r.length;l++)if(r[l].name===n){var h=r.slice();h.splice(l,1);for(var u=l;u<h.length;u++)h[u].id--;var v=a[o];v.conversionTo=h,v.nextConversionToId--;var d=a.slice();d[o]=v,this.setState({conversions:d});break}break}}},{key:"render",value:function(){for(var e=this.state.conversions.map((function(e,t){return o.a.createElement("option",{key:e.id,id:e.id,value:e.name},e.name)})),t=this.state.conversions.slice(),n=[],a=0;a<t.length;a++)if(t[a].name===this.state.fromValue){n=t[a].conversionTo.slice();break}for(var r=n.map((function(e,t){return o.a.createElement("option",{key:e.id,id:e.id,value:e.name},e.name)})),i=[],s=0,c=0;c<t.length;c++)for(var l=this.state.conversions[c].conversionTo.slice(),h=this.state.conversions[c].name,u=0;u<l.length;u++){var v=l[u].name,d=l[u].rate,m="".concat(h," TO ").concat(v),b=l[u].id;i.push(o.a.createElement("option",{key:s,id:b,from:h,to:v,value:"".concat(b,",").concat(h,",").concat(v,",").concat(d)},m)),s++}return i.push(o.a.createElement("option",{key:s,value:"",selected:!0},"Select Conversion")),o.a.createElement("div",{className:"App"},o.a.createElement("button",{type:"button",onClick:this.handleClick,value:"Add"},"Add Conversion"),o.a.createElement("button",{type:"button",onClick:this.handleClick,value:"Edit"},"Edit Conversion"),o.a.createElement("button",{type:"button",onClick:this.handleClick,value:"Delete"},"Delete Conversion"),o.a.createElement("div",{className:"container"},o.a.createElement("h2",null,"Currency Calculator"),o.a.createElement("form",{onSubmit:this.handleConvert},o.a.createElement("section",{className:"options"},o.a.createElement("label",null,"From:",o.a.createElement("select",{name:"fromValue",value:this.state.fromValue,onChange:this.handleInputChange},e)),o.a.createElement("label",null,"To:",o.a.createElement("select",{name:"toValue",value:this.state.toValue,onChange:this.handleInputChange},r))),o.a.createElement("input",{type:"number",name:"amount",value:this.state.value,onChange:this.handleAmountChange}),o.a.createElement("button",{type:"submit",value:"Convert"},"Convert")),o.a.createElement("h1",{className:"converted"},this.state.convertedAmount)),this.state.showFormAdd?o.a.createElement(f,{onAdd:this.handleAdd}):null,this.state.showFormEdit?o.a.createElement(O,{onEdit:this.handleEdit,options:i}):null,this.state.showFormDelete?o.a.createElement(C,{onDelete:this.handleDelete,options:i}):null)}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.98d7468d.chunk.js.map